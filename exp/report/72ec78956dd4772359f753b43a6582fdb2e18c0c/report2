==================================================================
BUG: KASAN: stack-out-of-bounds in user_mode home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/arch/x86/include/asm/ptrace.h:136 [inline]
BUG: KASAN: stack-out-of-bounds in unwind_next_frame+0x108/0x2580 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/arch/x86/kernel/unwind_orc.c:431
Read of size 8 at addr ffffc90005fcf7b0 by task syz-executor.0/28262

CPU: 1 PID: 28262 Comm: syz-executor.0 Not tainted 5.19.0-rc3-32288-g0f3b08299494 #15
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.14.0-0-g155821a1990b-prebuilt.qemu.org 04/01/2014
Call Trace:
 <IRQ>
 __dump_stack home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/lib/dump_stack.c:88 [inline]
 dump_stack_lvl+0x20a/0x302 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/lib/dump_stack.c:106
 print_address_description+0x65/0x4f0 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/kasan/report.c:313
 print_report+0xf4/0x1e0 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/kasan/report.c:429
 kasan_report+0xe5/0x110 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/kasan/report.c:491
 user_mode home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/arch/x86/include/asm/ptrace.h:136 [inline]
 unwind_next_frame+0x108/0x2580 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/arch/x86/kernel/unwind_orc.c:431
 arch_stack_walk+0xb2/0xe0 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/arch/x86/kernel/stacktrace.c:25
 stack_trace_save+0x104/0x1e0 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/stacktrace.c:122
 kasan_save_stack home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/kasan/common.c:38 [inline]
 kasan_set_track home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/kasan/common.c:45 [inline]
 set_alloc_info home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/kasan/common.c:436 [inline]
 __kasan_slab_alloc+0x80/0xb0 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/kasan/common.c:469
 kasan_slab_alloc home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/include/linux/kasan.h:224 [inline]
 slab_post_alloc_hook home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/slab.h:750 [inline]
 slab_alloc_node home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/slub.c:3243 [inline]
 kmem_cache_alloc_node+0x4aa/0x630 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/slub.c:3293
 __alloc_skb+0xef/0x460 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/net/core/skbuff.c:414
 __netdev_alloc_skb+0x10f/0x7a0 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/net/core/skbuff.c:494
 netdev_alloc_skb home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/include/linux/skbuff.h:3257 [inline]
 dev_alloc_skb home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/include/linux/skbuff.h:3270 [inline]
 __ieee80211_beacon_get+0xaf9/0x2e70 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/net/mac80211/tx.c:5165
 ieee80211_beacon_get_tim+0xa9/0xc50 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/net/mac80211/tx.c:5244
 ieee80211_beacon_get home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/include/net/mac80211.h:5091 [inline]
 mac80211_hwsim_beacon_tx+0x112/0xc80 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/drivers/net/wireless/mac80211_hwsim.c:1908
 __iterate_interfaces+0x2f9/0x680 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/net/mac80211/util.c:793
 ieee80211_iterate_active_interfaces_atomic+0xd4/0x1d0 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/net/mac80211/util.c:829
 mac80211_hwsim_beacon+0xd5/0x260 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/drivers/net/wireless/mac80211_hwsim.c:1961
 __run_hrtimer home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/time/hrtimer.c:1685 [inline]
 __hrtimer_run_queues+0x53b/0xa90 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/time/hrtimer.c:1749
 hrtimer_run_softirq+0x1b7/0x600 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/time/hrtimer.c:1766
 __do_softirq+0x372/0x783 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/softirq.c:571
 __irq_exit_rcu+0xcf/0x160 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/softirq.c:650
 irq_exit_rcu+0x5/0x20 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/softirq.c:662
 sysvec_apic_timer_interrupt+0x91/0xb0 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/arch/x86/kernel/apic/apic.c:1106
 </IRQ>
 <TASK>
 asm_sysvec_apic_timer_interrupt+0x1b/0x20
RIP: 0010:trampoline+0x5/0x10 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/relrazzer/trampoline/trampoline.c:32
Code: 00 0f 1f 40 00 be 08 00 00 00 48 c7 c7 c0 c6 72 90 e8 df 15 78 00 c3 00 00 cc cc 00 00 cc cc 00 00 cc cc 00 00 e8 0b 98 12 00 <e8> 06 00 00 00 e9 f6 ff ff ff 90 e8 fb 97 12 00 c3 66 2e 0f 1f 84
RSP: 0018:ffffc90005fcf720 EFLAGS: 00000246
RAX: ffffffff8172ca15 RBX: 000000000000002c RCX: 0000000000040000
RDX: ffffc90011b99000 RSI: 000000000003ffff RDI: 0000000000040000
RBP: ffffc90005fcf838 R08: dffffc0000000000 R09: ffffed10296c1000
R10: fffffbfff2ac6a44 R11: 0000000000000000 R12: ffffffff953b9c30
R13: 1ffff92000bf9ef0 R14: ffffea00052d8220 R15: 0000000000000000
 asm_sysvec_call_function_single+0x1b/0x20
RIP: 52d8200:skb_release_data+0x7bb/0xa40
Code: 01 00 00 49 89 dd 8a 1b 89 d8 24 20 0f b6 e8 31 ff 89 ee e8 17 7a b2 f6 40 84 ed 75 12 e8 3d 77 b2 f6 4c 89 f7 e8 25 95 16 f7 <4c> 89 ed eb 62 e8 2b 77 b2 f6 0f b6 f3 bf ff 00 00 00 e8 ee 79 b2
RSP: 81a9c29a:dffffc0000000000 EFLAGS: ffffea00052d8234 ORIG_RAX: 0000000000000000
RAX: 0000000000000000 RBX: 0000000000000000 RCX: 0000000041b58ab3
RDX: ffffffff8ff620e0 RSI: ffffffff81d8a8a0 RDI: 0000000000000282
RBP: 0000000000000029 R08: 0000000000000001 R09: 000000001fbc2ea1
R10: ffffffff00000001 R11: 000000000014b608 R12: 0000000281a9c1c5
R13: ffffea00052d8200 R14: 0000000000000000 R15: 0000000000000000
 </TASK>

The buggy address belongs to stack of task syz-executor.0/28262
 and is located at offset 48 in frame:
 free_unref_page+0x0/0x740 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/include/linux/mm.h:1304

This frame has 2 objects:
 [32, 40) 'flags.i.i.i142'
 [64, 72) 'flags.i.i.i'

The buggy address belongs to the virtual mapping at
 [ffffc90005fc8000, ffffc90005fd1000) created by:
 dup_task_struct home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/fork.c:978 [inline]
 copy_process+0x722/0x6510 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/fork.c:2073

The buggy address belongs to the physical page:
page:ffffea0000809900 refcount:1 mapcount:0 mapping:0000000000000000 index:0x0 pfn:0x20264
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 0000000000000000 dead000000000122 0000000000000000
raw: 0000000000000000 0000000000000000 00000001ffffffff 0000000000000000
page dumped because: kasan: bad access detected
page_owner tracks the page as allocated
page last allocated via order 0, migratetype Unmovable, gfp_mask 0x2dc2(GFP_KERNEL|__GFP_HIGHMEM|__GFP_NOWARN|__GFP_ZERO), pid 28261, tgid 28261 (syz-executor.0), ts 2930519913783, free_ts 2905139422263
 prep_new_page home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/page_alloc.c:2456 [inline]
 get_page_from_freelist+0xa7c/0xf50 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/page_alloc.c:4198
 __alloc_pages+0x30e/0x710 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/page_alloc.c:5426
 vm_area_alloc_pages home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/vmalloc.c:2927 [inline]
 __vmalloc_area_node home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/vmalloc.c:2995 [inline]
 __vmalloc_node_range+0x973/0x1820 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/vmalloc.c:3165
 alloc_thread_stack_node+0x30b/0x510 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/fork.c:313
 dup_task_struct home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/fork.c:978 [inline]
 copy_process+0x722/0x6510 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/fork.c:2073
 kernel_clone+0x22a/0x810 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/fork.c:2657
 __do_sys_clone home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/fork.c:2791 [inline]
 __se_sys_clone home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/fork.c:2775 [inline]
 __x64_sys_clone+0x228/0x290 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/fork.c:2775
 do_syscall_x64 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/arch/x86/entry/common.c:51 [inline]
 do_syscall_64+0x4e/0xa0 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/arch/x86/entry/common.c:82
 entry_SYSCALL_64_after_hwframe+0x46/0xb0
page last free stack trace:
 reset_page_owner home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/include/linux/page_owner.h:24 [inline]
 free_pages_prepare home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/page_alloc.c:1371 [inline]
 free_pcp_prepare+0xa65/0xc90 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/page_alloc.c:1421
 free_unref_page_prepare home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/page_alloc.c:3343 [inline]
 free_unref_page_list+0x140/0xea0 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/page_alloc.c:3475
 release_pages+0x3f21/0x4200 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/swap.c:980
 tlb_batch_pages_flush home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/mmu_gather.c:58 [inline]
 tlb_flush_mmu_free home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/mmu_gather.c:255 [inline]
 tlb_flush_mmu+0xb36/0x1010 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/mmu_gather.c:262
 tlb_finish_mmu+0x10c/0x300 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/mmu_gather.c:353
 exit_mmap+0x230/0x720 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/mm/mmap.c:3164
 __mmput+0x13d/0x400 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/fork.c:1189
 exit_mm+0x209/0x2f0 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/exit.c:511
 do_exit+0x570/0x20a0 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/exit.c:784
 do_group_exit+0x24f/0x300 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/exit.c:927
 get_signal+0x2425/0x2480 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/signal.c:2857
 arch_do_signal_or_restart+0x7b/0x740 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/arch/x86/kernel/signal.c:869
 exit_to_user_mode_loop home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/entry/common.c:166 [inline]
 exit_to_user_mode_prepare+0x154/0x220 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/entry/common.c:201
 __syscall_exit_to_user_mode_work home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/entry/common.c:283 [inline]
 syscall_exit_to_user_mode+0x26/0x60 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/kernel/entry/common.c:294
 do_syscall_64+0x5f/0xa0 home/daeryong/workspace/relrazzer-project/relrazzer/kernels/linux/arch/x86/entry/common.c:89
 entry_SYSCALL_64_after_hwframe+0x46/0xb0

Memory state around the buggy address:
 ffffc90005fcf680: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 ffffc90005fcf700: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
>ffffc90005fcf780: f1 f1 f1 f1 00 f2 f2 f2 00 f3 f3 f3 00 00 00 00
                                     ^
 ffffc90005fcf800: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 ffffc90005fcf880: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
==================================================================
----------------
Code disassembly (best guess), 1 bytes skipped:
   0:	0f 1f 40 00          	nopl   0x0(%rax)
   4:	be 08 00 00 00       	mov    $0x8,%esi
   9:	48 c7 c7 c0 c6 72 90 	mov    $0xffffffff9072c6c0,%rdi
  10:	e8 df 15 78 00       	callq  0x7815f4
  15:	c3                   	retq
  16:	00 00                	add    %al,(%rax)
  18:	cc                   	int3
  19:	cc                   	int3
  1a:	00 00                	add    %al,(%rax)
  1c:	cc                   	int3
  1d:	cc                   	int3
  1e:	00 00                	add    %al,(%rax)
  20:	cc                   	int3
  21:	cc                   	int3
  22:	00 00                	add    %al,(%rax)
  24:	e8 0b 98 12 00       	callq  0x129834
* 29:	e8 06 00 00 00       	callq  0x34 <-- trapping instruction
  2e:	e9 f6 ff ff ff       	jmpq   0x29
  33:	90                   	nop
  34:	e8 fb 97 12 00       	callq  0x129834
  39:	c3                   	retq
  3a:	66                   	data16
  3b:	2e                   	cs
  3c:	0f                   	.byte 0xf
  3d:	1f                   	(bad)
  3e:	84                   	.byte 0x84
